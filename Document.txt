# ğŸš€ Sistema de GestiÃ³n de Gastos Personales

## ğŸ“‹ Requisitos Previos

Antes de comenzar, asegÃºrate de tener instalado en tu PC con Windows:

1. **Node.js** (versiÃ³n 16 o superior)
   - Descargar desde: https://nodejs.org/
   - Verificar instalaciÃ³n: `node --version` y `npm --version`

2. **MySQL o MariaDB**
   - MySQL: https://dev.mysql.com/downloads/mysql/
   - MariaDB: https://mariadb.org/download/
   - Durante la instalaciÃ³n, recuerda la contraseÃ±a del usuario `root`

3. **HeidiSQL** (para gestionar la base de datos)
   - Descargar desde: https://www.heidisql.com/download.php

## ğŸ“ Estructura del Proyecto

Crea la siguiente estructura de carpetas:

```
gastos-personales/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ server.js
â”‚   â””â”€â”€ .env
â””â”€â”€ frontend/
    â”œâ”€â”€ package.json
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ index.html
    â””â”€â”€ src/
        â”œâ”€â”€ App.js
        â”œâ”€â”€ App.css
        â”œâ”€â”€ index.js
        â””â”€â”€ components/
            â”œâ”€â”€ TransactionForm.js
            â”œâ”€â”€ TransactionList.js
            â”œâ”€â”€ Dashboard.js
            â””â”€â”€ DateRangeFilter.js
```

## ğŸ› ï¸ Paso a Paso de InstalaciÃ³n

### Paso 1: Configurar la Base de Datos

1. **Abrir HeidiSQL** y conectar a tu servidor MySQL/MariaDB local
   - Host: `localhost`
   - Usuario: `root`
   - ContraseÃ±a: (la que configuraste durante la instalaciÃ³n)
   - Puerto: `3306` (por defecto)

2. **Crear la base de datos**:
   - Clic derecho en la conexiÃ³n â†’ "Crear nuevo" â†’ "Base de datos"
   - Nombre: `gastos_personales`
   - Charset: `utf8mb4`
   - Collation: `utf8mb4_unicode_ci`

3. **Ejecutar el script SQL**:
   - Seleccionar la base de datos `gastos_personales`
   - Copiar y ejecutar el contenido del archivo `database_schema.sql`

### Paso 2: Configurar el Backend

1. **Crear la carpeta del backend**:
```bash
mkdir gastos-personales
cd gastos-personales
mkdir backend
cd backend
```

2. **Crear el archivo package.json** con el contenido proporcionado

3. **Crear el archivo .env**:
```env
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=tu_contraseÃ±a_mysql
DB_NAME=gastos_personales
PORT=3001
```
*(Reemplaza `tu_contraseÃ±a_mysql` con tu contraseÃ±a real)*

4. **Crear el archivo server.js** con el cÃ³digo del servidor

5. **Instalar dependencias**:
```bash
npm install
```

6. **Probar el backend**:
```bash
npm run dev
```
*DeberÃ­as ver: "Servidor ejecutÃ¡ndose en puerto 3001" y "Conectado a la base de datos MySQL"*

### Paso 3: Configurar el Frontend

1. **Abrir una nueva terminal** y navegar a la carpeta principal:
```bash
cd ../
mkdir frontend
cd frontend
```

2. **Crear aplicaciÃ³n React**:
```bash
npx create-react-app .
```

3. **Instalar dependencias adicionales**:
```bash
npm install axios chart.js react-chartjs-2 react-datepicker react-modal lucide-react
```

4. **Reemplazar archivos**:
   - Reemplazar `package.json` con la versiÃ³n proporcionada
   - Reemplazar `src/App.js` con el cÃ³digo proporcionado
   - Reemplazar `src/App.css` con los estilos proporcionados
   - Agregar los estilos adicionales al final de `App.css`

5. **Crear componentes**:
   - Crear carpeta `src/components/`
   - Crear archivos de componentes con sus respectivos cÃ³digos

6. **Actualizar src/index.js**:
```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import './App.css';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

7. **Actualizar public/index.html**:
```html
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Sistema de gestiÃ³n de gastos personales" />
    <title>GestiÃ³n de Gastos</title>
  </head>
  <body>
    <noscript>Necesitas habilitar JavaScript para ejecutar esta aplicaciÃ³n.</noscript>
    <div id="root"></div>
  </body>
</html>
```

## ğŸš€ EjecuciÃ³n del Sistema

### Para ejecutar el sistema completo:

1. **Terminal 1 - Backend**:
```bash
cd backend
npm run dev
```

2. **Terminal 2 - Frontend**:
```bash
cd frontend
npm start
```

3. **Abrir navegador**:
   - Frontend: http://localhost:3000
   - API Backend: http://localhost:3001/api

## ğŸ”§ ConfiguraciÃ³n de HeidiSQL

Para visualizar los datos:

1. **Conectar a la base de datos** `gastos_personales`
2. **Explorar tablas**:
   - `categorias`: Ver categorÃ­as disponibles
   - `transacciones`: Ver todas las transacciones
   - `vista_transacciones_completas`: Vista completa con nombres de categorÃ­as
   - `vista_resumen_mensual`: Resumen por mes
   - `vista_resumen_categorias`: Resumen por categorÃ­as

## ğŸ¯ Funcionalidades del Sistema

### âœ… Dashboard
- GrÃ¡ficos de torta para distribuciÃ³n de gastos e ingresos
- GrÃ¡fico de barras comparativo por categorÃ­as
- GrÃ¡fico de lÃ­neas con tendencia anual
- Resumen detallado por categorÃ­as

### âœ… GestiÃ³n de Transacciones
- Crear, editar y eliminar transacciones
- CategorizaciÃ³n automÃ¡tica
- Filtros por fecha y tipo
- Lista interactiva con acciones rÃ¡pidas

### âœ… Reportes
- Filtrado por rangos de fecha
- Botones de filtrado rÃ¡pido (hoy, semana, mes, etc.)
- CÃ¡lculo automÃ¡tico de balances
- VisualizaciÃ³n en tiempo real

## ğŸ› ï¸ SoluciÃ³n de Problemas

### Error de ConexiÃ³n a la Base de Datos
- Verificar que MySQL/MariaDB estÃ© ejecutÃ¡ndose
- Comprobar credenciales en el archivo `.env`
- Asegurarse de que la base de datos `gastos_personales` existe

### Error "CORS"
- El backend ya incluye configuraciÃ³n CORS
- Verificar que el backend estÃ© ejecutÃ¡ndose en puerto 3001

### Error de Puerto en Uso
- Cambiar puerto en `.env` (backend) o `package.json` (frontend)
- Verificar procesos ejecutÃ¡ndose: `netstat -ano | findstr :3001`

### Problemas con GrÃ¡ficos
- Verificar que Chart.js estÃ© instalado correctamente
- Comprobar consola del navegador para errores JavaScript

## ğŸ“¦ Scripts Ãštiles

### Backend:
```bash
npm start          # Ejecutar en producciÃ³n
npm run dev        # Ejecutar en desarrollo con nodemon
```

### Frontend:
```bash
npm start          # Servidor de desarrollo
npm run build      # Compilar para producciÃ³n
npm test           # Ejecutar tests
```

## ğŸ”’ Seguridad

- Los datos se almacenan localmente en tu PC
- No hay conexiÃ³n a servicios externos
- Backup recomendado de la base de datos MySQL

## ğŸ“ˆ PrÃ³ximas Mejoras

- ExportaciÃ³n a Excel/PDF
- CategorÃ­as personalizables
- Metas de ahorro
- Notificaciones de lÃ­mites
- Modo oscuro

---

**Â¡Tu sistema de gestiÃ³n de gastos estÃ¡ listo!** ğŸ‰

Accede a http://localhost:3000 para comenzar a usar la aplicaciÃ³n.